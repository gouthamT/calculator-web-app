{"version":3,"sources":["common/utils/compute-helper.js","common/utils/index.js","common/utils/handlers.js","controllers/state/observables/use-interactions/index.js","controllers/state/observables/use-history-api/utils.js","controllers/state/observables/use-history-api/index.js","controllers/state/observables/use-history-api/local-storage-helper/index.js","controllers/state/index.js","common/ui/math-components/index.js","common/ui/error-boundary/index.js","ui/result-view/index.js","common/configurations/index.js","ui/button-list/main.js","common/constants/index.js","ui/button-list/index.js","ui/history-view/index.js","App.js","serviceWorker.js","index.js"],"names":["compute","previous","current","operator","operand1","Big","operand2","plus","toString","minus","times","parseFloat","div","calculate","obj","buttonName","total","next","operation","test","handleNumberEntry","result","handlePercentageOperator","includes","handleDotOperator","handleEqualOperator","mapButtonEventListeners","btn","fromEvent","pipe","mapTo","getAttribute","formatMessage","arr","reduce","message","drillDown","date","Date","getTime","historySubject$","BehaviorSubject","histories","JSON","parse","localStorage","getItem","dayBeforeYesterday","setDate","getDate","filter","record","getPastTwoDaysHistory","interimHistorySubject$","useHistoryApi","sendMessage","useCallback","history","previousState","getValue","nextState","stringify","setItem","onHandleInterimHistory","computedResult","key","clearHistory","subject$","defaultState","useStore","stream$","useRef","streamSubscriptionRef","stateRef","useState","displayValue","setDisplayValue","onHandleEventsCallback","useEffect","actionButtons","document","getElementsByClassName","from","map","mergeAll","merge","pluck","initUserInteractionObservable","subscribe","unsubscribe","SquareRootExpression","radicand","index","className","PowerExpression","base","exponent","LogarithmExpression","ErrorBoundary","props","state","hasError","this","children","error","React","Component","ResultView","value","data-testid","type","readOnly","ButtonConfigurationsMap","Map","label","operatorType","ButtonConfigurations","Array","Button","btnConfig","styles","buttonKey","push","join","data-operator-key","ButtonList","SingleCalculationHistory","HistoryView","setHistory","data","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.125e1358.chunk.js","sourcesContent":["import Big from \"big.js\";\n\nexport const compute = (previous, current, operator) => {\n  const operand1 = Big(previous || \"0\");\n  const operand2 = Big(current || (operator === \"÷\" || operator === 'x' ? \"1\": \"0\"));\n\n  switch(operator) {\n    case \"+\": return operand1.plus(operand2).toString();\n    case \"-\": return operand1.minus(operand2).toString();\n\n    case \"*\":\n    case \"x\": return operand1.times(operand2).toString();\n\n    case \"/\":\n    case \"÷\": {\n      if (parseFloat(operand2) === 0) {\n        return \"Divide by 0 error\";\n      } \n\n      return operand1.div(operand2).toString();\n    }\n\n    default: return \"0\";\n  }\n}\n","import { handleClear, handleEqualOperator, handleNumberEntry, handlePercentageOperator, handleDotOperator } from './handlers';\nimport { compute } from \"./compute-helper\";\n\nconst isNumber = (item) => {\n  return /[0-9]+/.test(item);\n};\n\nexport const calculate = (obj, buttonName) => {\n  try {\n\n    if (buttonName === \"AC\") {\n      return handleClear();\n    }\n\n    if (isNumber(buttonName)) {\n      return handleNumberEntry(obj, buttonName);\n    }\n\n    if (buttonName === \"%\") {\n      return handlePercentageOperator(obj)\n    }\n\n    if (buttonName === \".\") {\n      return handleDotOperator(obj);\n    }\n\n    if ([\"=\", \"Enter\"].includes(buttonName)) {\n      return handleEqualOperator(obj);\n    }\n\n    if (buttonName === \"+/-\") {\n      if (obj.next) {\n        return { next: (-1 * parseFloat(obj.next)).toString() };\n      }\n      if (obj.total) {\n        return { total: (-1 * parseFloat(obj.total)).toString() };\n      }\n      return {};\n    }\n\n    // Button must be an operation\n    if (obj.operation) {\n      return {\n        total: compute(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: buttonName,\n      };\n    }\n\n    // no operation yet, but the user typed one\n\n    // The user hasn't typed a number yet, just save the operation\n    if (!obj.next) {\n      return { operation: buttonName };\n    }\n\n    // save the operation and shift 'next' into 'total'\n    return {\n      total: obj.next,\n      next: null,\n      operation: buttonName,\n    };\n\n  } catch {\n    return handleClear();\n  }\n}\n","import Big from \"big.js\";\r\nimport { compute } from \"./compute-helper\";\r\n\r\nexport const handleNumberEntry = (obj, buttonName) => {\r\n  if (buttonName === \"0\" && obj.next === \"0\") {\r\n    return {};\r\n  }\r\n\r\n  // If there is an operation, update next\r\n  if (obj.operation) {\r\n    if (obj.next) {\r\n      return { next: obj.next + buttonName };\r\n    }\r\n    return { next: buttonName };\r\n  }\r\n\r\n  // If there is no operation, update next and clear the value\r\n  if (obj.next) {\r\n    const next = obj.next === \"0\" ? buttonName : obj.next + buttonName;\r\n    return {\r\n      next,\r\n      total: null,\r\n    };\r\n  }\r\n  return {\r\n    next: buttonName,\r\n    total: null,\r\n  };\r\n};\r\n\r\nexport const handlePercentageOperator = (obj) => {\r\n  if (obj.operation && obj.next) {\r\n    const result = compute(obj.total, obj.next, obj.operation);\r\n    return {\r\n      total: Big(result)\r\n        .div(Big(\"100\"))\r\n        .toString(),\r\n      next: null,\r\n      operation: null,\r\n    };\r\n  }\r\n  if (obj.next) {\r\n    return {\r\n      next: Big(obj.next)\r\n        .div(Big(\"100\"))\r\n        .toString(),\r\n    };\r\n  }\r\n  return {};\r\n};\r\n\r\nexport const handleClear = () => {\r\n  return {\r\n    total: null,\r\n    next: null,\r\n    operation: null,\r\n  };\r\n};\r\n\r\nexport const handleDotOperator = (obj) => {\r\n  if (obj.next) {\r\n    // ignore a . if the next number already has one\r\n    if (obj.next.includes(\".\")) {\r\n      return {};\r\n    }\r\n    return { next: obj.next + \".\" };\r\n  }\r\n  return { next: \"0.\" };\r\n};\r\n\r\nexport const handleEqualOperator = (obj) => {\r\n  if (obj.next && obj.operation) {\r\n    return {\r\n      total: compute(obj.total, obj.next, obj.operation),\r\n      next: null,\r\n      operation: null,\r\n    };\r\n  } else {\r\n    // '=' with no operation, nothing to do\r\n    return {};\r\n  }\r\n};","import { from, fromEvent } from \"rxjs\";\r\nimport { map, mapTo, mergeAll, merge, pluck } from 'rxjs/operators';\r\n\r\nlet stream$ = null;\r\n\r\nconst mapButtonEventListeners = btn =>  {\r\n  return fromEvent(btn, 'click').pipe(mapTo(btn.getAttribute('data-operator-key')))\r\n};\r\n\r\nexport const initUserInteractionObservable = () => {\r\n  const actionButtons = document.getElementsByClassName(\"actionable-button\");\r\n\r\n  stream$ = from(actionButtons)\r\n            .pipe(map(mapButtonEventListeners))\r\n            .pipe(mergeAll())\r\n            .pipe(merge(fromEvent(document, 'keypress').pipe(pluck('key'))));\r\n\r\n  return stream$;\r\n};","export const formatMessage = (arr = []) => {\r\n    return arr.reduce((message, current) => {\r\n\r\n        if (message.drillDown === null) {\r\n            message.drillDown = `${current.next}`;\r\n        }\r\n\r\n        if (current.operation && current.next) {\r\n          message.drillDown = `${message.drillDown} ${current.operation} ${current.next}`;\r\n        }\r\n\r\n        if(current.next === null) {\r\n          message.total = `${current.total}`;\r\n        }\r\n\r\n        return message;\r\n    }, { date: new Date().getTime(),  drillDown: null , total: \"\" });\r\n}","import  { useCallback } from 'react';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { getPastTwoDaysHistory, updateLocalStorageHistory } from './local-storage-helper';\r\nimport { formatMessage } from './utils';\r\n\r\nexport const historySubject$ = new BehaviorSubject(getPastTwoDaysHistory());\r\nconst interimHistorySubject$ = new BehaviorSubject([]);\r\n\r\nexport const useHistoryApi = () => {\r\n  const sendMessage = useCallback((message) => {\r\n    const previousState = historySubject$.getValue();\r\n    const nextState = [formatMessage(message), ...previousState];\r\n    historySubject$.next(nextState);\r\n    updateLocalStorageHistory(JSON.stringify(nextState));\r\n    interimHistorySubject$.next([]);\r\n  }, []);\r\n\r\n  const onHandleInterimHistory = useCallback((previousState, computedResult, key) => {\r\n    if(computedResult.next === null && computedResult.operation) {\r\n      interimHistorySubject$.next([...interimHistorySubject$.getValue(), previousState]);\r\n    }\r\n\r\n    if([\"=\", \"Enter\"].includes(key)) {\r\n      interimHistorySubject$.next([...interimHistorySubject$.getValue(), previousState]);\r\n      interimHistorySubject$.next([...interimHistorySubject$.getValue(), computedResult]);\r\n      sendMessage(interimHistorySubject$.getValue());\r\n    }\r\n\r\n    if(key === \"AC\") {\r\n      interimHistorySubject$.next([]);\r\n    }\r\n  }, [sendMessage]);\r\n\r\n  const clearHistory = useCallback(() => {\r\n    historySubject$.next([]);\r\n  }, []);\r\n\r\n  return [{ subject$: historySubject$, onHandleInterimHistory, sendMessage, clearHistory }]\r\n}","const LOCAL_STORAGE_KEY = 'histories';\r\n\r\nexport const getPastTwoDaysHistory = () => {\r\n  const histories = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) || \"[]\");\r\n  const dayBeforeYesterday = new Date();\r\n  dayBeforeYesterday.setDate(dayBeforeYesterday.getDate()-2);\r\n\r\n  const past2daysRecords = histories.filter(record => {\r\n    return new Date(record.date) >= dayBeforeYesterday\r\n  });\r\n\r\n  return past2daysRecords;\r\n}\r\n\r\nexport const updateLocalStorageHistory = (history) => {\r\n  localStorage.setItem(LOCAL_STORAGE_KEY, history);\r\n}","import  { useRef, useState, useEffect, useCallback } from 'react';\r\nimport { calculate } from '../../common/utils';\r\nimport { initUserInteractionObservable, useHistoryApi } from './observables';\r\n\r\nconst defaultState = {\r\n  total: null,\r\n  next: null,\r\n  operation: null,\r\n};\r\n\r\nexport const useStore = () => {\r\n  const stream$ = useRef();\r\n  const streamSubscriptionRef = useRef();\r\n  const stateRef = useRef(defaultState);\r\n  const [{ onHandleInterimHistory }] = useHistoryApi();\r\n  const [displayValue, setDisplayValue]= useState(0);\r\n\r\n  const onHandleEventsCallback = useCallback(key => {\r\n    const previousState = stateRef.current;\r\n    const computedResult = { ...previousState, ...calculate(previousState, key) };\r\n    stateRef.current = computedResult;\r\n    onHandleInterimHistory(previousState, computedResult, key);\r\n    setDisplayValue(computedResult.next || computedResult.total);\r\n  }, [onHandleInterimHistory]);\r\n\r\n  useEffect(() => {\r\n        stream$.current = initUserInteractionObservable();\r\n        streamSubscriptionRef.current = stream$.current.subscribe(onHandleEventsCallback);\r\n        return () => {\r\n          streamSubscriptionRef.current.unsubscribe();\r\n        }\r\n  }, [onHandleEventsCallback]);\r\n\r\n  return [displayValue]\r\n};\r\n\r\n\r\nexport { useHistoryApi, historySubject$ } from './observables';","import React from 'react';\r\nimport './styled.css';\r\n\r\nexport const SquareRootExpression = ({ radicand, index }) => (\r\n    <div className=\"square-root\">\r\n      <sup className=\"square-root__prefix\">{index}</sup>\r\n      <span>&#8730;</span>\r\n      <span className=\"square-root__base\">{radicand}</span>\r\n    </div>\r\n  );\r\n\r\nexport const PowerExpression = ({ base, exponent }) => (\r\n    <div className=\"power\">\r\n      <span>{base}</span>\r\n      <sup className=\"power__suffix\">{exponent}</sup>\r\n    </div>\r\n  );\r\n\r\nexport const LogarithmExpression = ({ base, exponent }) => (\r\n  <div className=\"logarithm\">\r\n    <span>{base}</span>\r\n    <sup className=\"logarithm__suffix\">{exponent}</sup>\r\n  </div>\r\n);","import React from 'react';\r\n\r\nexport class ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <h4>Something Went Wrong!</h4>;\r\n    }\r\n\r\n    return this.props.children; \r\n  }\r\n};\r\n","import React from 'react';\r\nimport './styled.css';\r\n\r\nexport const ResultView = ({ value }) => (\r\n  <input data-testid=\"input-box\" type=\"text\" readOnly className=\"result-view\" value={value || 0} />\r\n);","import React from 'react';\r\nimport { SquareRootExpression, PowerExpression, LogarithmExpression} from '../ui';\r\n\r\nconst ButtonConfigurationsMap = new Map(\r\n  [\r\n    [\"(\", \r\n      {\r\n        key: \"(\",\r\n        label: \"(\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\")\", \r\n      {\r\n        key: \")\",\r\n        label: \")\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"mc\", \r\n      {\r\n        key: \"mc\",\r\n        label: \"mc\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"m+\", \r\n      {\r\n        key: \"m+\",\r\n        label: \"m+\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"m-\",\r\n      {\r\n        key: \"m-\",\r\n        label: \"m-\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"mr\",\r\n      {\r\n        key: \"mr\",\r\n        label: \"mr\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"AC\",\r\n      {\r\n        key: \"AC\",\r\n        label: \"AC\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"+/-\", \r\n      {\r\n        key: \"+/-\",\r\n        label: \"+/-\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"%\", \r\n      {\r\n        key: \"%\",\r\n        label: \"%\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"÷\",\r\n      {\r\n        key: \"÷\",\r\n        label: \"÷\",\r\n        operatorType: \"arithmetic\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"second\",\r\n      {\r\n        key: \"second\",\r\n        label: <PowerExpression base=\"2\" exponent=\"nd\" />,\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"xPow2\",\r\n      {\r\n        key: \"xPow2\",\r\n        label: <PowerExpression base=\"x\" exponent=\"2\" />,\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"xPow3\", \r\n      {\r\n        key: \"xPow3\",\r\n        label: <PowerExpression base=\"x\" exponent=\"3\" />,\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"xPowY\",\r\n      {\r\n        key: \"xPowY\",\r\n        label: <PowerExpression base=\"x\" exponent=\"y\" />,\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"ePowX\",\r\n      {\r\n        key: \"ePowX\",\r\n        label: <PowerExpression base=\"e\" exponent=\"x\" />,\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"10PowX\",\r\n      {\r\n        key: \"10PowX\",\r\n        label: <PowerExpression base=\"10\" exponent=\"x\" />,\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"7\",\r\n      {\r\n        key: \"7\",\r\n        label: \"7\",\r\n        operatorType: \"number\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"8\", \r\n      {\r\n        key: \"8\",\r\n        label: \"8\",\r\n        operatorType: \"number\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"9\",\r\n      {\r\n        key: \"9\",\r\n        label: \"9\",\r\n        operatorType: \"number\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"x\",\r\n      {\r\n        key: \"x\",\r\n        label: \"x\",\r\n        operatorType: \"arithmetic\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"1/x\", \r\n      {\r\n        key: \"1/x\",\r\n        label: \"1/x\",\r\n        operatorType: \"scientific\",\r\n        className: \"\",\r\n      }\r\n    ],\r\n    [\"2SqrX\", {\r\n      key: \"2SqrX\",\r\n      label: <SquareRootExpression radicand=\"X\" index=\"2\" />,\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"3SqrX\", {\r\n      key: \"3SqrX\",\r\n      label: <SquareRootExpression radicand=\"X\" index=\"3\" />,\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"XSqrY\", {\r\n      key: \"XSqrY\",\r\n      label: <SquareRootExpression radicand=\"Y\" index=\"X\" />,\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"In\", {\r\n      key: \"In\",\r\n      label: \"In\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"log10\", {\r\n      key: \"log10\",\r\n      label: <LogarithmExpression base=\"log\" exponent=\"10\" />,\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"4\", {\r\n      key: \"4\",\r\n      label: \"4\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"5\", {\r\n      key: \"5\",\r\n      label: \"5\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"6\", {\r\n      key: \"6\",\r\n      label: \"6\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"-\", {\r\n      key: \"-\",\r\n      label: \"-\",\r\n      operatorType: \"arithmetic\",\r\n      className: \"\",\r\n    }],\r\n    [\"x!\", {\r\n      key: \"x!\",\r\n      label: \"x!\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"sin\", {\r\n      key: \"sin\",\r\n      label: \"sin\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"cos\", {\r\n      key: \"cos\",\r\n      label: \"cos\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"tan\", {\r\n      key: \"tan\",\r\n      label: \"tan\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"e\", {\r\n      key: \"e\",\r\n      label: \"e\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"EE\", {\r\n      key: \"EE\",\r\n      label: \"EE\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"1\", {\r\n      key: \"1\",\r\n      label: \"1\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"2\", {\r\n      key: \"2\",\r\n      label: \"2\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"3\", {\r\n      key: \"3\",\r\n      label: \"3\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"+\", {\r\n      key: \"+\",\r\n      label: \"+\",\r\n      operatorType: \"arithmetic\",\r\n      className: \"\",\r\n    }],\r\n    [\"Rad\", {\r\n      key: \"Rad\",\r\n      label: \"Rad\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"sinh\",\r\n    {\r\n      key: \"sinh\",\r\n      label: \"sinh\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"cosh\", {\r\n      key: \"cosh\",\r\n      label: \"cosh\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"tanh\", {\r\n      key: \"tanh\",\r\n      label: \"tanh\",\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"nArray\", {\r\n      key: \"nArray\",\r\n      label: <span>&#8719;</span>,\r\n      operatorType: \"scientific\",\r\n      className: \"\",\r\n    }],\r\n    [\"Rand\", {\r\n      key: \"Rand\",\r\n      label: \"Rand\",\r\n      operatorType: \"scientific\",\r\n      className: \"small-font\",\r\n    }],\r\n    [\"0\", {\r\n      key: \"0\",\r\n      label: \"0\",\r\n      operatorType: \"number\",\r\n      className: \"expanded-button\",\r\n    }],\r\n    [\".\", {\r\n      key: \".\",\r\n      label: \".\",\r\n      operatorType: \"number\",\r\n      className: \"\",\r\n    }],\r\n    [\"=\", {\r\n      key: \"=\",\r\n      label: \"=\",\r\n      operatorType: \"arithmetic\",\r\n      className: \"\",\r\n    }],\r\n]);\r\n\r\nconst ButtonConfigurations = Array.from(ButtonConfigurationsMap);\r\n\r\nexport { ButtonConfigurationsMap, ButtonConfigurations };","import React from 'react';\r\nimport { SCIENTIFIC, NUMBER, ARITHMETIC } from '../../common/constants';\r\nimport './styled.css';\r\n\r\nexport const Button = ({ btnConfig }) => {\r\n  const styles = [\"button\"];\r\n  const { label, key: buttonKey, operatorType, className }= btnConfig;\r\n\r\n  switch(operatorType) {\r\n    case NUMBER: styles.push(\"actionable-button white bg-light-grey\"); break;\r\n    case SCIENTIFIC: styles.push(\"scientific white bg-dark-grey\"); break;\r\n    case ARITHMETIC: styles.push(\"actionable-button pure-white bg-orange\"); break;\r\n    default: styles.push(\"actionable-button bg-grey\");\r\n  }\r\n\r\n  styles.push(className);\r\n\r\n   return <button className={styles.join(\" \")} data-operator-key={buttonKey} data-testid={`btn-${buttonKey}`}>{label}</button>;\r\n};","export const SCIENTIFIC = \"scientific\";\r\nexport const NUMBER = \"number\";\r\nexport const ARITHMETIC = \"arithmetic\";","import React from 'react';\r\nimport { ButtonConfigurations } from '../../common/configurations';\r\nimport { Button } from './main';\r\nimport './styled.css';\r\n\r\nexport const ButtonList = () => (\r\n  <div className=\"button-list\">\r\n    {\r\n      ButtonConfigurations.map(([, btnConfig], key) => (\r\n        <Button key={key} btnConfig={btnConfig} /> \r\n        ))\r\n    }\r\n  </div>\r\n  );","import React, { useRef, useState, useEffect } from 'react';\r\nimport { useHistoryApi } from '../../controllers';\r\nimport './styled.css';\r\n\r\nconst SingleCalculationHistory = ({drillDown, total}) => (\r\n  <li data-testid=\"history-item\">\r\n    <p className=\"light-grey-font\">{drillDown} = </p>\r\n    <p>{total}</p>\r\n  </li>\r\n)\r\n\r\nexport const HistoryView = () =>  {\r\n  const streamSubscriptionRef = useRef();\r\n  const [ history, setHistory ] = useState([]);\r\n  const [{ subject$ }] = useHistoryApi();\r\n\r\n  useEffect(() => {\r\n    streamSubscriptionRef.current = subject$.subscribe(setHistory);\r\n    return () => {\r\n      streamSubscriptionRef.current.unsubscribe();\r\n    }\r\n  }, [subject$]);\r\n\r\n  return (\r\n    <div className=\"histories\" data-testid=\"histories\">\r\n      <ul className=\"history--tabs\">\r\n        <li>History</li>\r\n        <li className=\"light-grey-font\">Memory</li>\r\n      </ul>\r\n      <ul className=\"history--list\">\r\n        {\r\n          history.map((data, key) => <SingleCalculationHistory key={key} {...data} />)\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport { useStore } from './controllers';\nimport { ErrorBoundary } from './common/ui';\nimport { ResultView, ButtonList, HistoryView } from './ui';\nimport './App.css';\n\nconst App = () =>  {\n  const [displayValue] = useStore();\n\n  return (\n    <ErrorBoundary>\n      <div className=\"app\">\n        <div className=\"calculator\">\n          <ResultView value={displayValue} />\n          <ButtonList />\n        </div>\n        <HistoryView />\n      </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}